# VM split progress and timing instrumentation â€” 2025-12-22T000712Z (UTC)

## What changed
- Moved the VM integration scenarios into `tests/vm/test_pre_nixos_vm.py` and added the RAID/LVM residue regression in `tests/vm/test_pre_nixos_cleanup.py`.
- Ported the `boot_image_vm` session fixture into `tests/vm/fixtures.py` and taught it to record build, boot-to-login, boot-to-SSH, and total durations into `metadata.json`.
- Added `RunTimings`/`record_run_timings` helpers so timing information can accumulate without losing diagnostics.
- Left heavy VM runs for a later session; no QEMU/Nix builds executed here to stay within the time budget.

## Next steps
- Exercise the migrated VM tests and capture a timing ledger entry with logs under `notes/`.
- Iterate on cleanup assertions if the RAID/LVM regression reveals residue that needs additional handling.
- Consider teaching the fixture to emit a lightweight run ledger entry for each invocation.


ISOLINUX 6.04   Copyright (C) 1994-2015 H. Peter Anvin et al
e%@)0(B[0;37;40m[?25l[2J[1;1H[0;30;44mlqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqk[2;1H[0;30;44mx[0;1;36;44m                                             NixOS                                              [0;30;44mx[3;1H[0;30;44mtqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqu[4;1H[0;30;44mx[0;7;37;40m NixOS 24.05.20241230.b134951 Installer                                                         [0;30;44mx[5;1H[0;30;44mx[0;37;44m NixOS 24.05.20241230.b134951 Installer (nomodeset)                                             [0;30;44mx[6;1H[0;30;44mx[0;37;44m NixOS 24.05.20241230.b134951 Installer (copytoram)                                             [0;30;44mx[7;1H[0;30;44mx[0;37;44m NixOS 24.05.20241230.b134951 Installer (debug)                                                 [0;30;44mx[8;1H[0;30;44mx[0;37;44m NixOS 24.05.20241230.b134951 Installer (serial console=ttyS0,115200n8)                         [0;30;44mx[9;1H[0;30;44mx[0;37;44m Memtest86+                                                                                     [0;30;44mx[10;1H[0;30;44mmqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqj[0;31;40m[34;36HPress [Tab] to edit options[0;37;40m[35;1H[0;37;40m[35;1H[K[K[36;1H[33;34H[0;37;40mAutomatic boot in [0;1;37;40m10[0;37;40m seconds...[33;34H[0;37;40m Automatic boot in [0;1;37;40m9[0;37;40m seconds... [33;35H[0;37;40mAutomatic boot in [0;1;37;40m8[0;37;40m seconds...[33;35H[0;37;40mAutomatic boot in [0;1;37;40m7[0;37;40m seconds...[33;35H[0;37;40mAutomatic boot in [0;1;37;40m6[0;37;40m seconds...[33;35H[0;37;40mAutomatic boot in [0;1;37;40m5[0;37;40m seconds...[33;35H[0;37;40mAutomatic boot in [0;1;37;40m4[0;37;40m seconds...[33;35H[0;37;40mAutomatic boot in [0;1;37;40m3[0;37;40m seconds...[33;35H[0;37;40mAutomatic boot in [0;1;37;40m2[0;37;40m seconds...[33;34H[0;37;40m Automatic boot in [0;1;37;40m1[0;37;40m second... [1;1H[0;30;44mlqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqk[2;1H[0;30;44mx[0;1;36;44m                                             NixOS                                              [0;30;44mx[3;1H[0;30;44mtqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqu[4;1H[0;30;44mx[0;7;37;40m NixOS 24.05.20241230.b134951 Installer                                                         [0;30;44mx[5;1H[0;30;44mx[0;37;44m NixOS 24.05.20241230.b134951 Installer (nomodeset)                                             [0;30;44mx[6;1H[0;30;44mx[0;37;44m NixOS 24.05.20241230.b134951 Installer (copytoram)                                             [0;30;44mx[7;1H[0;30;44mx[0;37;44m NixOS 24.05.20241230.b134951 Installer (debug)                                                 [0;30;44mx[8;1H[0;30;44mx[0;37;44m NixOS 24.05.20241230.b134951 Installer (serial console=ttyS0,115200n8)                         [0;30;44mx[9;1H[0;30;44mx[0;37;44m Memtest86+                                                                                     [0;30;44mx[10;1H[0;30;44mmqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqj[0;31;40m[34;36HPress [Tab] to edit options[0;37;40m[35;1H[?25he%@)0(B[0;37;40m[?25l[2J[?25h[35;1H[0mLoading /boot/bzImage... ok
Loading /boot/initrd...ok


[1;32m<<< Welcome to NixOS 24.05.20241230.b134951 (x86_64) - ttyS0 >>>[0m
The "nixos" and "root" accounts have empty passwords.

To log in over ssh you must set a password for either "nixos" or "root"
with `passwd` (prefix with `sudo` for "root"), or add your public key to
/home/nixos/.ssh/authorized_keys or /root/.ssh/authorized_keys.

If you need a wireless connection, type
`sudo systemctl start wpa_supplicant` and configure a
network using `wpa_cli`. See the NixOS manual for details.


Run 'nixos-help' for the NixOS manual.

nixos login: nixos (automatic login)

if [ "$(id -u)" -eq 0 ]; then echo __ROOT__; else echo __USER__; fi
if [ "$(id -u)" -eq 0 ]; then echo __ROOT__; else echo __USER__; fi
[?2004h
[1;32m[]0;nixos@nixos: ~nixos@nixos:~]$[0m export PS1='PRE-NIXOS> '
if [ "$(id -u)" -eq 0 ]; then echo __ROOT__; else echo __USER__; fi
[?2004lexport PS1='PRE-NIXOS> '
:
:
__USER__
[?2004h
[1;32m[]0;nixos@nixos: ~nixos@nixos:~]$[0m export PS1='PRE-NIXOS> '
command -v disko >/dev/null 2>&1 && echo OK || echo MISSING
[?2004l[?2004hPRE-NIXOS> :
[?2004l[?2004hPRE-NIXOS> command -v disko >/dev/null 2>&1 && echo OK || echo MISSING
command -v disko >/dev/null 2>&1 && echo OK || echo MISSING
command -v disko >/dev/null 2>&1 && echo OK || echo MISSING
[?2004lOK
[?2004hPRE-NIXOS> command -v disko >/dev/null 2>&1 && echo OK || echo MISSING
[?2004lOK
[?2004hPRE-NIXOS> command -v findmnt >/dev/null 2>&1 && echo OK || echo MISSING
command -v lsblk >/dev/null 2>&1 && echo OK || echo MISSING
command -v disko >/dev/null 2>&1 && echo OK || echo MISSING
[?2004lOK
[?2004hPRE-NIXOS> command -v findmnt >/dev/null 2>&1 && echo OK || echo MISSING
[?2004lOK
[?2004hPRE-NIXOS> command -v wipefs >/dev/null 2>&1 && echo OK || echo MISSING
cat /run/pre-nixos/storage-status 2>/dev/null || true
command -v lsblk >/dev/null 2>&1 && echo OK || echo MISSING
[?2004lOK
[?2004hPRE-NIXOS> command -v wipefs >/dev/null 2>&1 && echo OK || echo MISSING
[?2004lOK
[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
journalctl --no-pager -u pre-nixos.service -b || true
cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> cat /run/pre-nixos/storage-status 2>/dev/null || true
[?2004l[?2004hPRE-NIXOS> systemctl status pre-nixos --no-pager 2>&1 || true
ip -o -4 addr show dev lan 2>/dev/null || true
journalctl --no-pager -u pre-nixos.service -b || true
[?2004lsystemctl status pre-nixos --no-pager 2>&1 || true
ip -o -4 addr show dev lan 2>/dev/null || true
Oct 12 00:52:23 nixos systemd[1]: Starting Pre-NixOS setup...
Oct 12 00:52:45 nixos pre-nixos-start[826]: {"authorized_key": null, "event": "pre_nixos.network.configure_lan.start", "net_path": "/sys/class/net", "network_dir": "/etc/systemd/network", "root_home": "/root", "ssh_dir": "/etc/ssh", "ssh_service": "sshd", "timestamp": "2025-10-12T00:52:45.247909+00:00"}
Oct 12 00:52:45 nixos pre-nixos-start[826]: {"attempts": 30, "delay_seconds": 2.0, "event": "pre_nixos.network.wait_for_lan.start", "net_path": "/sys/class/net", "timestamp": "2025-10-12T00:52:45.281830+00:00"}
Oct 12 00:52:45 nixos pre-nixos-start[826]: {"command": ["ip", "link", "set", "ens4", "up"], "event": "pre_nixos.network.command.start", "timestamp": "2025-10-12T00:52:45.302092+00:00"}
Oct 12 00:52:45 nixos pre-nixos-start[826]: {"command": ["ip", "link", "set", "ens4", "up"], "event": "pre_nixos.network.command.finished", "returncode": 0, "status": "success", "timestamp": "2025-10-12T00:52:45.819531+00:00"}
Oct 12 00:52:45 nixos pre-nixos-start[826]: {"event": "pre_nixos.network.identify_lan.detected", "interface": "ens4", "signal": "carrier", "timestamp": "2025-10-12T00:52:45.877815+00:00"}
Oct 12 00:52:45 nixos pre-nixos-start[826]: {"event": "pre_nixos.network.wait_for_lan.detected", "interface": "ens4", "timestamp": "2025-10-12T00:52:45.882840+00:00"}
Oct 12 00:52:45 nixos pre-nixos-start[826]: {"event": "pre_nixos.network.configure_lan.detected_interface", "interface": "ens4", "timestamp": "2025-10-12T00:52:45.888849+00:00"}
Oct 12 00:52:45 nixos pre-nixos-start[826]: {"event": "pre_nixos.network.write_lan_rename_rule.start", "net_path": "/sys/class/net", "rules_dir": "/etc/systemd/network", "timestamp": "2025-10-12T00:52:45.894933+00:00"}
Oct 12 00:52:45 nixos pre-nixos-start[826]: {"attempts": 30, "delay_seconds": 2.0, "event": "pre_nixos.network.wait_for_lan.start", "net_path": "/sys/class/net", "timestamp": "2025-10-12T00:52:45.900962+00:00"}
Oct 12 00:52:45 nixos pre-nixos-start[826]: {"command": ["ip", "link", "set", "ens4", "up"], "event": "pre_nixos.network.command.start", "timestamp": "2025-10-12T00:52:45.913498+00:00"}
Oct 12 00:52:46 nixos pre-nixos-start[826]: {"command": ["ip", "link", "set", "ens4", "up"], "event": "pre_nixos.network.command.finished", "returncode": 0, "status": "success", "timestamp": "2025-10-12T00:52:46.112047+00:00"}
Oct 12 00:52:46 nixos pre-nixos-start[826]: {"event": "pre_nixos.network.identify_lan.detected", "interface": "ens4", "signal": "carrier", "timestamp": "2025-10-12T00:52:46.143720+00:00"}
Oct 12 00:52:46 nixos pre-nixos-start[826]: {"event": "pre_nixos.network.wait_for_lan.detected", "interface": "ens4", "timestamp": "2025-10-12T00:52:46.149886+00:00"}
Oct 12 00:52:46 nixos pre-nixos-start[826]: {"event": "pre_nixos.network.write_lan_rename_rule.finished", "interface": "ens4", "rule_path": "/etc/systemd/network/10-lan.link", "timestamp": "2025-10-12T00:52:46.166780+00:00"}
Oct 12 00:52:46 nixos pre-nixos-start[826]: {"event": "pre_nixos.network.configure_lan.network_file_written", "network_file": "/etc/systemd/network/20-lan.network", "timestamp": "2025-10-12T00:52:46.187987+00:00"}
Oct 12 00:52:46 nixos pre-nixos-start[826]: {"command": ["ip", "link", "set", "ens4", "down"], "event": "pre_nixos.network.command.start", "timestamp": "2025-10-12T00:52:46.191770+00:00"}
Oct 12 00:52:46 nixos pre-nixos-start[826]: {"command": ["ip", "link", "set", "ens4", "down"], "event": "pre_nixos.network.command.finished", "returncode": 0, "status": "success", "timestamp": "2025-10-12T00:52:46.530155+00:00"}
Oct 12 00:52:46 nixos pre-nixos-start[826]: {"command": ["ip", "link", "set", "ens4", "name", "lan"], "event": "pre_nixos.network.command.start", "timestamp": "2025-10-12T00:52:46.548687+00:00"}
Oct 12 00:52:46 nixos pre-nixos-start[826]: {"command": ["ip", "link", "set", "ens4", "name", "lan"], "event": "pre_nixos.network.command.finished", "returncode": 0, "status": "success", "timestamp": "2025-10-12T00:52:46.870073+00:00"}
Oct 12 00:52:46 nixos pre-nixos-start[826]: {"command": ["ip", "link", "set", "lan", "up"], "event": "pre_nixos.network.command.start", "timestamp": "2025-10-12T00:52:46.872796+00:00"}
Oct 12 00:52:47 nixos pre-nixos-start[826]: {"command": ["ip", "link", "set", "lan", "up"], "event": "pre_nixos.network.command.finished", "returncode": 0, "status": "success", "timestamp": "2025-10-12T00:52:47.072429+00:00"}
Oct 12 00:52:47 nixos pre-nixos-start[826]: {"command": ["systemctl", "restart", "systemd-networkd"], "event": "pre_nixos.network.systemctl.start", "ignore_missing": true, "timestamp": "2025-10-12T00:52:47.077123+00:00"}
Oct 12 00:52:52 nixos pre-nixos-start[826]: {"command": ["systemctl", "restart", "systemd-networkd"], "event": "pre_nixos.network.systemctl.finished", "returncode": 0, "status": "success", "timestamp": "2025-10-12T00:52:52.397819+00:00"}
Oct 12 00:52:52 nixos pre-nixos-start[826]: {"authorized_key": "/nix/store/9wziy04f2i8d887wrp76kya3p1jqafvn-pre-nixos-0.1.0/lib/python3.11/site-packages/pre_nixos/root_key.pub", "event": "pre_nixos.network.secure_ssh.start", "ssh_dir": "/etc/ssh", "ssh_service": "sshd", "timestamp": "2025-10-12T00:52:52.400000+00:00"}
Oct 12 00:52:52 nixos pre-nixos-start[826]: {"authorized_keys_path": "/root/.ssh/authorized_keys", "event": "pre_nixos.network.secure_ssh.authorized_key_written", "timestamp": "2025-10-12T00:52:52.696089+00:00"}
Oct 12 00:52:52 nixos pre-nixos-start[826]: {"command": ["systemctl", "start", "sshd"], "event": "pre_nixos.network.systemctl.start", "ignore_missing": false, "timestamp": "2025-10-12T00:52:52.700206+00:00"}
[?2004hPRE-NIXOS> ip -o -4 addr show dev lan 2>/dev/null || true
systemctl status pre-nixos --no-pager 2>&1 || true
[?2004lâ— pre-nixos.service - Pre-NixOS setup
     Loaded: loaded (]8;;file://nixos/etc/systemd/system/pre-nixos.service/etc/systemd/system/pre-nixos.service]8;;; [0;1;32menabled[0m; preset: [0;1;32menabled[0m)
     Active: activating (start) since Sun 2025-10-12 00:52:23 UTC; 7min ago
   Main PID: 687 (pre-nixos-start)
         IP: 0B in, 0B out
         IO: 42.0M read, 0B written
      Tasks: 3 (limit: 2329)
     Memory: 41.5M (peak: 41.7M)
        CPU: 11.914s
     CGroup: /system.slice/pre-nixos.service
             â”œâ”€[0;38;5;245m687 /nix/store/1jzhbwq5rjjaqa75z88ws2b424vh7m53-bash-5.2p32/bin/â€¦[0m
             â”œâ”€[0;38;5;245m826 /nix/store/s0p1kr5mvs0j42dq5r08kgqbi0k028f2-python3-3.11.10/â€¦[0m
             â””â”€[0;38;5;245m886 systemctl start sshd[0m

Oct 12 00:52:46 nixos pre-nixos-start[826]: {"command": ["ip", "link", "set"â€¦0"}
Oct 12 00:52:46 nixos pre-nixos-start[826]: {"command": ["ip", "link", "set"â€¦0"}
Oct 12 00:52:46 nixos pre-nixos-start[826]: {"command": ["ip", "link", "set"â€¦0"}
Oct 12 00:52:46 nixos pre-nixos-start[826]: {"command": ["ip", "link", "set"â€¦0"}
Oct 12 00:52:47 nixos pre-nixos-start[826]: {"command": ["ip", "link", "set"â€¦0"}
Oct 12 00:52:47 nixos pre-nixos-start[826]: {"command": ["systemctl", "restaâ€¦0"}
Oct 12 00:52:52 nixos pre-nixos-start[826]: {"command": ["systemctl", "restaâ€¦0"}
Oct 12 00:52:52 nixos pre-nixos-start[826]: {"authorized_key": "/nix/store/9â€¦0"}
Oct 12 00:52:52 nixos pre-nixos-start[826]: {"authorized_keys_path": "/root/â€¦0"}
Oct 12 00:52:52 nixos pre-nixos-start[826]: {"command": ["systemctl", "startâ€¦0"}
Hint: Some lines were ellipsized, use -l to show in full.
[?2004hPRE-NIXOS> ip -o -4 addr show dev lan 2>/dev/null || true
[?2004l2: lan    inet [35m10.0.2.15[0m/24 metric 1024 brd [35m10.0.2.255 [0mscope global dynamic lan\       valid_lft 85960sec preferred_lft 85960sec
[?2004hPRE-NIXOS> ip -o -4 addr show dev lan 2>/dev/null || true
systemctl is-active pre-nixos
ip -o -4 addr show dev lan 2>/dev/null || true
[?2004l2: lan    inet [35m10.0.2.15[0m/24 metric 1024 brd [35m10.0.2.255 [0mscope global dynamic lan\       valid_lft 85956sec preferred_lft 85956sec
[?2004hPRE-NIXOS> ip -o -4 addr show dev lan 2>/dev/null || true
[?2004lpoweroff
systemctl is-active pre-nixos
2: lan    inet [35m10.0.2.15[0m/24 metric 1024 brd [35m10.0.2.255 [0mscope global dynamic lan\       valid_lft 85951sec preferred_lft 85951sec
[?2004hPRE-NIXOS> systemctl is-active pre-nixos
[?2004lpoweroff
activating
[?2004hPRE-NIXOS> poweroff
[?2004l[0;1;31mCall to PowerOff failed: Interactive authentication required.[0m
[?2004hPRE-NIXOS> qemu-system-x86_64: terminating on signal 15 from pid 10411 (/bin/bash)
